<div ng-include="'./views/common/header.view.client.html'"></div>



<div class="container-fluid main-container">
    <!--<div>-->
    <form>
        <div class="row">
            <div class="col-xs-6">
                <h1 class="textToTop textToCenter">{{model.user.username}}</h1>

                <div class="row" id="followerNfollowing">
                    <div class="col-xs-6 textToCenter">
                        <a ng-click="model.showFollowers()">

                            follower<br>
                            {{model.user.followers.length}}</a>
                    </div>

                    <div ng-show="model.user.role == 'USER'"
                         class="col-xs-6 textToCenter">
                        <a ng-click="model.showFollowings()">
                            following<br>
                            {{model.user.followings.length}}</a>
                    </div>
                </div>

                <div id="followDetail" class="collapse">
                    <p>hahahahha</p>
                    <div ng-repeat="follow in model.follows">
                        <div class="row margin-top-15">
                            <div class="col-sm-2">
                                <img src="{{follow.photo}}" width ="80%"/>
                            </div>
                            <div class="col-sm-4">
                                {{follow.username}}
                            </div>
                            <div class="col-sm-3 hidden-xs">
                                follower: {{follow.followers.length}}
                            </div>
                            <div class="col-sm-3 hidden-xs" ng-show="follow.role == 'USER'">
                                following: {{follow.followings.length}}
                            </div>
                        </div>
                    </div>
                </div>

                <a class="btn btn-success toBottom form-control"
                   ng-show="model.followed == false"
                   ng-click="model.follow()">
                    Follow
                </a>
                <a class="btn btn-default toBottom form-control"
                   ng-show="model.followed == true"
                   ng-click="model.unfollow()">
                    Unfollow
                </a>
                <div class="margin-top-15">
                    <a ng-click="model.sendMessage(model.message)"
                       class="btn btn-success ">
                        Leave me a message!
                    </a>

                    <input class="form-control" ng-model="model.message">
                </div>


            </div>
            <div id="photoBlock" class="col-xs-6">
                <img id="photo" class="imageToCenter"
                     ng-src="{{model.user.photo}}" height="90%" width="90%"/>
            </div>
        </div>
    </form>
    <!--</div>-->

    <!--TODO:TEST-->
    <div>
        <a ng-show="model.isRecipeProvider"
           href="#!/creator/{{model.userId}}/recipe">
            <h1>View All</h1>
        </a>
    </div>
    <!--TODO: END OF TEST-->

</div>


<!--to show the likedRecipe/collectedProducts(regular user) or createdRecipes(recipeProvider)-->
<!--<div ng-switch="model.user.role">-->
<!--<div ng-switch-when='USER'>-->
<!--<ng-include src="./views/user/templates/snippets/user-profile.view.client.html"></ng-include>-->
<!--</div>-->
<!--</div>-->

<!--<ng-include src="./views/user/templates/snippets/user-profile.view.client.html"></ng-include>-->


<nav class="navbar navbar-default navbar-fixed-bottom">
    <div class="container-fluid">
        <div class="row textToCenter">
            <div class="col-xs-3">
                <a href="#!/account" class="navbar-link">
                    <span class="glyphicon glyphicon-user"></span>
                </a>
            </div>
            <div class="col-xs-3">
                <a href="#!/" class="navbar-link">
                    <span class="glyphicon glyphicon-user"></span>
                </a>
            </div>
            <div class="col-xs-3">
                <a href="#!/account" class="navbar-link">
                    <span class="glyphicon glyphicon-user"></span>
                </a>
            </div>
            <div class="col-xs-3">
                <a href="#!/account" class="navbar-link">
                    <span class="glyphicon glyphicon-user"></span>
                </a>
            </div>
        </div>
        <!--<div class="pull-right navbar-text">-->
        <!--<a href="#!/account" class="navbar-link">-->
        <!--<span class="glyphicon glyphicon-user"></span>-->
        <!--</a>-->
        <!--</div>-->
    </div>
</nav>


<div ng-include="'./views/common/footer.view.client.html'"></div>

