<div ng-include="'./views/common/header.view.client.html'"></div>

<!--body-->


<!------------------------------------------------ upload Image ------------------------------------------------------>
<img id="photo"
     class="imageToCenter"
     ng-src="{{model.merchandise.image}}" width="50%"/>


<Label>photo</Label>
<form action="/api/upload/merchandise/picture"
      method="post"
      enctype="multipart/form-data"
      class="margin-top-15"
ng-if="model.mode==='edit'">
    <input name="myFile" type="file" class="form-control"/>
    <input name="storeId" value="{{model.storeId}}" style="display: none"/>
    <input name="merchandiseId" value="{{model.merchandiseId}}" style="display: none"/>
    <button type="submit"
            class="btn btn-block btn-primary">
        Upload Photo
    </button>
</form>




<div class="container-fluid">
    <div class="row ">
        <!--left panel-->
        <div class="col-xs-4 hidden-xs">
            <div class="container-fluid">
                <!--left panel body-->
                <div class=" theme-showcase first-row"
                     role="main">
                    <ul class="list-group nowarp">
                        <li class="list-group-item active">
                            <div class="row">
                                <div class="col-lg-4 col-md-7 col-xs-10">
                                    Name
                                </div>
                                <div class="col-lg-3 visible-lg">
                                    Created
                                </div>
                                <div class="col-md-3 hidden-sm hidden-xs">
                                    Accessed
                                </div>
                                <div class="col-xs-2">

                                </div>
                            </div>
                        </li>
                        <li ng-repeat="merchandise in model.merchandises" class="list-group-item">
                            <div class="row ">
                                <div class="col-lg-4 col-md-7 col-xs-10 ">
                                    <a href="">
                                        {{merchandise.name}}
                                    </a>
                                </div>
                                <div class="col-lg-3 visible-lg">
                                    {{merchandise.dateCreated | date}}
                                </div>
                                <div class="col-md-3 hidden-sm hidden-xs">
                                    {{merchandise.dateUpdated | date}}
                                </div>
                                <div class="col-xs-2">
                                    <a href="#!/store/{{model.storeId}}/merchandise/{{merchandise._id}}/edit">
                                        <span class="glyphicon glyphicon-cog pull-right"></span>
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!--right panel-->
        <div class="col-xs-12 col-sm-8 ">
            {{model.merchandise}}
            <!--right panel body-->
            <div class="container-fluid">
                <div ng-show="model.errorMessage"
                     class="alert alert-danger">
                    {{model.errorMessage}}
                </div>
                <!--edit merchandise name-->
                <div class="form-group" ng-class="model.merchandiseNameStyle">
                    <label for="name-edit">Name</label>
                    <input class="form-control"
                           ng-model="model.merchandise.name"
                           placeholder="Name"
                           id="name-edit"/>
                </div>
                <!--edit merchandise description-->
                <label for="description-edit">Description</label>
                <textarea id="description-edit"
                          rows="5"
                          ng-model="model.merchandise.description"
                          placeholder="Description"
                          class="form-control"></textarea>


                <!--delete button -->
                <a ng-if="model.mode === 'new'"
                   ng-click="model.createMerchandise()"
                   class="btn btn-block btn-primary">Create</a>
                <!--delete button -->
                <a ng-if="model.mode === 'edit'"
                   ng-click="model.updateMerchandise()"
                   class="btn btn-block btn-success">update</a>
                <!--delete button -->
                <a ng-if="model.mode === 'edit'"
                   ng-click="model.deleteMerchandise()"
                   class="btn btn-block btn-danger">Delete</a>
            </div>
        </div>
    </div>
</div>

<div ng-include="'./views/common/footer.view.client.html'"></div>
