<div ng-include="'./views/common/header.view.client.html'"></div>


<div ng-include="'./views/common/header.view.client.html'"></div>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-2 sidebar">
            <div class="nav nav-sidebar">
                <h4>Store Info</h4>
                <img id="smallProfileImage" class="img-responsive" ng-src="{{model.seller.image}}"/>

                <label for="username">UserName</label>
                <p id="username">{{model.seller.username}}</p >

                <div ng-show="model.seller.firstName">
                <label for="firstname">FirstName</label>
                <p id="firstname">{{model.seller.firstName}}</p >
                </div>

                <div ng-show="model.seller.lastName">
                <label for="lastname">LastName</label>
                <p id="lastname">{{model.seller.lastName}}</p >
                     </div>
            </div>
        </div>

        <div class="col-sm-10 col-sm-offset-2 main">
            <div ng-if="model.store.image">
                <img class="img-responsive" ng-src="{{model.store.image}}"/>
            </div>



            <h2 class="page-header">{{model.store.name}}
                <a class="btn pull-right" ng-show="model.like" ng-click="model.unlikeStore()">
                    <span class="glyphicon glyphicon-heart"></span>
                </a >
                <a class="btn pull-right" ng-show="!model.like" ng-click="model.likeStore()">
                    <span class="glyphicon glyphicon-heart-empty"></span>
                </a >
            </h2>

            <h3 class="sub-header">Description</h3>
            <span>model.store.description</span>


            <h3 class="sub-header">Hours</h3>
            <ul class="store-profile-hours-list-of-item">
                <li ng-repeat="hour in model.store.hours track by $index"
                    class="list-group-item row">
                    <div class="col-xs-4">
                        {{model.days[$index]}}
                    </div>
                    <div class="col-xs-8">
                        {{hour.open | date:'hh:mma'}} to {{hour.close | date:'hh:mma'}}
                    </div>
                </li>
            </ul>

            <h3 class="sub-header">store address & map</h3>
            <div>{{model.store.address}}</div>
            <div class="google-maps" ng-if="model.store.address != null">
            <iframe class="map-bottom"
                    ng-src="{{model.store.addressUrl}}"
                    allowfullscreen="">
            </iframe>
            </div>
            <a ng-click="model.goToProductList()"
               class="btn btn-block btn-info">Go to product List</a>

            <a ng-if="model.canEdit" ng-click="model.editStoreProfile()"
               class="btn btn-block btn-primary">Edit</a>


            <div>
                <h3 class="sub-header">Comments
                    <a class="btn pull-right"
                       ng-click="model.newComment={}"
                    ng-if="!model.newComment">
                        <span class="glyphicon glyphicon-plus"></span>
                    </a >
                </h3>


                <p ng-if="model.comments.length===0">Be the first one to comment!</p >
                <div>
                    <ul class="list-group list-unstyled" ng-repeat="comment in model.comments">
                        <li class="list-group-item-warning">
                            <label>User {{comment.fromWhom.username}}</label>: {{comment.content}}
                        </li>
                    </ul>
                </div>
                <input class="form-control" ng-show="model.newComment" ng-model="model.newComment.content"/>
                <a class="btn pull-right" ng-show="model.newComment" ng-click="model.createComment()">
                    <span class="glyphicon glyphicon-ok"></span>
                </a >
            </div>
        </div>
    </div>
</div>
<div ng-include="'views/common/footer.view.client.html'"></div>
